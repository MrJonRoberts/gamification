(async function() { const idList = ["30560"]; const urlTemplate = "https://alpha.tas.qld.edu.au/kiosk/inline-file.cfm?do=kiosk.general.StudPicContentImage&studentCode={id}"; for (const id of idList) { try { const url = urlTemplate.replace('{id}', id); const response = await fetch(url); const blob = await response.blob(); const a = document.createElement('a'); a.href = URL.createObjectURL(blob); a.download = id + '.jpg'; a.click(); console.log('Downloaded:', id); await new Promise(r => setTimeout(r, 1000)); } catch (e) { console.error('Failed:', id, e); } } console.log('Download complete!'); })();